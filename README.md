# A:WAY  
> 모두를 위한 아주대학교 디지털 캠퍼스 지도 플랫폼

실질적인 활용도가 낮은 아주대학교 홈페이지 지도를 개선하고자, **사용자 중심의 디지털 캠퍼스 지도 플랫폼**을 개발하였습니다.  
출발지 또는 도착지가 **건물 내부인 경우**, 실제 출입구를 고려한 **현실적인 최단 경로 탐색**을 제공합니다.  
관리자는 **마크다운 형식**으로 주차장, 식당, 편의점 등 **건물별 상세정보**를 직접 편집할 수 있습니다.  
**데드라인 기반 마커**를 등록해, 사용자에게 시각적으로 중요한 정보를 효과적으로 전달합니다.

### 📅 개발 기간  
2025.03 ~ 2025.06

### 🛠️ 사용 기술 스택  
- **Backend**: Spring Boot, Java  
- **Database**: PostgreSQL  
- **DevOps**: GitHub Actions, Docker, DockerHub, AWS S3, ALB

## 📌 주요 문제 상황 및 해결

### 1. 건물 출입구를 고려한 실내외 통합 경로 탐색 로직 구현

<table>
<tr>
<td style="width: 80%; vertical-align: top;">
<br/>

**문제 상황**  
- 사용자 좌표 기반으로 경로를 탐색할 때, 출발지 또는 도착지가 건물 내부인 경우가 존재  
- PostGIS 기반 공간 연산 복잡도와 지오메트리 계산으로 인해 기존 A* 알고리즘의 성능 저하  

**해결 접근 방식**  
- PostGIS 공간 데이터를 기반으로 작성한 SQL 기반 경로 탐색 로직을 Spring 서비스에 통합  
- 사용자 좌표가 건물 내부에 위치한 경우, 해당 건물의 출입구 후보 노드를 조회하고, 모든 출입구 간 조합에 대해 최단 경로 탐색 수행  
- 수행 경로 비용이 0 이하이거나 존재하지 않는 경우는 필터링  
- 기존 A* 알고리즘과 다익스트라 알고리즘의 성능을 비교한 결과, 다익스트라 알고리즘이 약 50% 빠른 응답 속도를 보여 채택  
- 유효한 경로 중 비용 기준 상위 3개의 경로를 선별하여 응답  
- 경로 결과는 노드 ID, 위도•경도, cost 등을 포함한 JSON 형식으로 클라이언트에 전달  

**성과**  
- 건물 내부 출입구를 고려한 빠르고 정밀한 경로 탐색 구현  
- 공간 연산이 포함된 복잡한 지오메트리 기반 경로 탐색에서도 안정적 성능 확보  

</td>

<td style="width: 20%; vertical-align: top;">

<img src="https://github.com/user-attachments/assets/5cb813c1-fa3f-4ef7-a409-83aedbd3571f" alt="경로 탐색 예시" width="100%"/>

</td>
</tr>
</table>

### 2. 지도 데이터 변경 시 자동 반영을 위한 이중 파이프라인 구성
<table>
<tr>
  <td style="text-align: center;">
    <img src="https://github.com/user-attachments/assets/309651b7-3dc5-485e-9ea0-20829bd4376e" alt="지도 파이프라인 이미지" width="1200"/>
  </td>
</tr>
<tr>
  <td style="padding: 20px; vertical-align: top;">

  **문제 상황**  
  - 데이터 개선을 위한 경로 탐색 로직에 활용되는 지도 데이터(map.osm)가 변경  
  - 데이터 변경마다 PostGIS에 수동 데이터 삽입으로 인한 운영 효율성 저하  

  **해결 접근 방식**  
  - GitHub Actions 기반의 지도 데이터 파이프라인 구성  
  - map.osm 파일 변경 시 트리거되어 osm2pgsql을 통해 PostGIS에 데이터 자동 삽입  
  - 지도 데이터 삽입 이후, 경로 탐색을 위한 전체 처리 자동 수행  

  **성과**  
  - 지도 데이터가 변경될 때마다 자동으로 최신 경로 정보가 반영되는 구조 확보  
  - 운영 공수 절감 및 데이터 최신성 유지  
  - 코드와 데이터가 각각 독립적으로 배포되며, 실시간 경로 탐색 정확도 향상  

  </td>
</tr>
</table>
